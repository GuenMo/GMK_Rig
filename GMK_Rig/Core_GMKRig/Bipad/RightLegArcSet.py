import pymel.core as pm
import Core_GMKRig.Utils as Utils
reload(Utils)

def KGM_RightLegArcSet():
    #/////////////////////////
    #Arc Joint 
    #/////////////////////////
    Utils.KGM_DuplicateJnt("RightHipJnt", "RightLegUpArcRig1Jnt")
    Utils.KGM_DuplicateJnt("RightLegUpArc1Jnt", "RightLegUpArcRig2Jnt")
    Utils.KGM_DuplicateJnt("RightLegUpArc2Jnt", "RightLegUpArcRig3Jnt")
    Utils.KGM_DuplicateJnt("RightLegUpArc3Jnt", "RightLegUpArcRig4Jnt")
    Utils.KGM_DuplicateJnt("RightLegUpArc3Jnt", "RightLegUpArcRig5Jnt")
    Utils.KGM_Aline("RightKneeJnt", "RightLegUpArcRig5Jnt", "p")
    Utils.KGM_DuplicateJnt("RightKneeJnt", "RightLegDwArcRig1Jnt")
    Utils.KGM_DuplicateJnt("RightLegDwArc1Jnt", "RightLegDwArcRig2Jnt")
    Utils.KGM_DuplicateJnt("RightLegDwArc2Jnt", "RightLegDwArcRig3Jnt")
    Utils.KGM_DuplicateJnt("RightLegDwArc3Jnt", "RightLegDwArcRig4Jnt")
    Utils.KGM_DuplicateJnt("RightAnkleJnt", "RightLegDwArcRig5Jnt")
    pm.makeIdentity('RightLegUpArcRig1Jnt',apply=True,s=0,r=1,t=0,n=0)
    pm.makeIdentity('RightLegUpArcRig2Jnt',apply=True,s=0,r=1,t=0,n=0)
    pm.makeIdentity('RightLegUpArcRig3Jnt',apply=True,s=0,r=1,t=0,n=0)
    pm.makeIdentity('RightLegUpArcRig4Jnt',apply=True,s=0,r=1,t=0,n=0)
    pm.makeIdentity('RightLegUpArcRig5Jnt',apply=True,s=0,r=1,t=0,n=0)
    pm.makeIdentity('RightLegUpArcRig5Jnt',apply=True,s=0,r=1,t=0,n=0)
    pm.makeIdentity('RightLegDwArcRig1Jnt',apply=True,s=0,r=1,t=0,n=0)
    pm.makeIdentity('RightLegDwArcRig2Jnt',apply=True,s=0,r=1,t=0,n=0)
    pm.makeIdentity('RightLegDwArcRig3Jnt',apply=True,s=0,r=1,t=0,n=0)
    pm.makeIdentity('RightLegDwArcRig4Jnt',apply=True,s=0,r=1,t=0,n=0)
    pm.makeIdentity('RightLegDwArcRig5Jnt',apply=True,s=0,r=1,t=0,n=0)
    pm.parent('RightLegDwArcRig5Jnt','RightLegDwArcRig4Jnt')
    pm.parent('RightLegDwArcRig4Jnt','RightLegDwArcRig3Jnt')
    pm.parent('RightLegDwArcRig3Jnt','RightLegDwArcRig2Jnt')
    pm.parent('RightLegDwArcRig2Jnt','RightLegDwArcRig1Jnt')
    pm.parent('RightLegDwArcRig1Jnt','RightLegUpArcRig5Jnt')
    pm.parent('RightLegUpArcRig5Jnt','RightLegUpArcRig4Jnt')
    pm.parent('RightLegUpArcRig4Jnt','RightLegUpArcRig3Jnt')
    pm.parent('RightLegUpArcRig3Jnt','RightLegUpArcRig2Jnt')
    pm.parent('RightLegUpArcRig2Jnt','RightLegUpArcRig1Jnt')
    pm.joint('RightLegUpArcRig1Jnt',zso=1,ch=1,e=1,oj='xzy',secondaryAxisOrient='zup')
    #/////////////////////////
    #Make Ctrls
    #/////////////////////////
    pm.curve(p=[(0, 1, 0), (0, 0, 0)],k=[0, 1],d=1)
    pm.rename("curve1","RightLegUpArcCurveOrig")
    pm.curve(p=[(0, 1, 0), (0, 0, 0)],k=[0, 1],d=1)
    pm.rename("curve1","RightLegDWArcCurveOrig")
    pm.curve(p=[(0, 1, 0), (0, 0, 0)],k=[0, 1],d=1)
    pm.rename("curve1","RightLegUpArcDetachCurve")
    pm.curve(p=[(0, 1, 0), (0, 0, 0)],k=[0, 1],d=1)
    pm.rename("curve1","RightLegDwArcDetachCurve")
    pm.curve(p=[(0, 1, 0), (0, 0, 0)],k=[0, 1],d=1)
    pm.rename("curve1","RightLegUpArcCurve")
    pm.curve(p=[(0, 1, 0), (0, 0, 0)],k=[0, 1],d=1)
    pm.rename("curve1","RightLegDwArcCurve")
    pm.group(em=1,n="RightHipArcPoint")
    Utils.KGM_Aline("RightLegRig1Jnt", "RightHipArcPoint", "a")
    pm.group(em=1,n="RightKneeArcPoint")
    Utils.KGM_Aline("RightLegRig2Jnt", "RightKneeArcPoint", "a")
    pm.group(em=1,n="RightAnkleArcPoint")
    Utils.KGM_Aline("RightLegRig3Jnt", "RightAnkleArcPoint", "a")
    pm.group(em=1,n="RightKneeArcCurvePoint")
    pm.group(em=1,n="RightLegHipLockGrp")
    Utils.KGM_Aline("RightHipJnt", "RightLegHipLockGrp", "a")
    pm.group(em=1,n="RightLegHipLockPoint")
    Utils.KGM_Aline("RightLegUpArc1Jnt", "RightLegHipLockPoint", "a")
    pm.group(em=1,n="RightLegHipLockOrient")
    Utils.KGM_Aline("RightHipJnt", "RightLegHipLockOrient", "a")
    pm.parent('RightLegHipLockPoint','RightLegHipLockGrp')
    pm.parent('RightLegHipLockOrient','RightLegHipLockGrp')
    pm.group(em=1,n="RightLegRigGrp")
    Utils.KGM_Aline("RightLegRig1Jnt", "RightLegRigGrp", "p")
    pm.parentConstraint('HipIKCtrl','RightLegRigGrp',mo=1,weight=1,n="RightLegRigGrpParCon")
    pm.parentConstraint('RightLegRig1Jnt','RightHipArcPoint',weight=1,n="RightHipArcPointParentCon")
    pm.parentConstraint('RightLegRig2Jnt','RightKneeArcPoint',weight=1,n="RightKneeArcPointParentCon")
    pm.parentConstraint('RightLegRig3Jnt','RightAnkleArcPoint',weight=1,n="RightAnkleArcPointParentCon")
    pm.pointConstraint('RightLegUpArcRig2Jnt','RightLegHipLockPoint',mo=1,weight=1,n="RightLegHipLockPointPointCon")
    pm.aimConstraint('RightLegHipLockPoint','RightLegHipLockOrient',weight=1,upVector=(0, 0, 1),
        n="RightLegHipLockOrientAimCon",
        worldUpType="objectrotation",
        worldUpObject='RightLegUpArcRig1Jnt',
        offset=(0, 0, 0),aimVector=(1, 0, 0),
        worldUpVector=(0, 0, 1))
    #////////////////////////////////////////////////////////////////////
    #make Arc
    #////////////////////////////////////////////////////////////////////
    pm.connectAttr('RightHipArcPoint.translate','RightLegUpArcCurveOrigShape.controlPoints[0]',f=1)
    pm.connectAttr('RightKneeArcPoint.translate','RightLegUpArcCurveOrigShape.controlPoints[1]',f=1)
    pm.connectAttr('RightKneeArcPoint.translate','RightLegDWArcCurveOrigShape.controlPoints[0]',f=1)
    pm.connectAttr('RightAnkleArcPoint.translate','RightLegDWArcCurveOrigShape.controlPoints[1]',f=1)
    # 
    pm.createNode('distanceBetween',n="RightLegUpArcDis")
    pm.createNode('distanceBetween',n="RightLegDwArcDis")
    pm.connectAttr('RightHipArcPoint.translate','RightLegUpArcDis.point1',f=1)
    pm.connectAttr('RightKneeArcPoint.translate','RightLegUpArcDis.point2',f=1)
    pm.connectAttr('RightKneeArcPoint.translate','RightLegDwArcDis.point1',f=1)
    pm.connectAttr('RightAnkleArcPoint.translate','RightLegDwArcDis.point2',f=1)
    # 
    pm.createNode('addDoubleLinear',n="RightLegArcDisAdd")
    pm.connectAttr('RightLegUpArcDis.distance','RightLegArcDisAdd.input1',f=1)
    pm.connectAttr('RightLegDwArcDis.distance','RightLegArcDisAdd.input2',f=1)
    # 
    pm.createNode('multDoubleLinear',n="RightLegArcDisMulti")
    pm.setAttr("RightLegArcDisMulti.input2",3)
    pm.connectAttr('RightLegArcDisAdd.output','RightLegArcDisMulti.input1',f=1)
    # 
    pm.parentConstraint('RightHipArcPoint','RightKneeArcPoint','RightAnkleArcPoint','RightKneeArcCurvePoint',weight=1,n="RightKneeArcCurvePointParentCon")
    pm.connectAttr('RightLegDwArcDis.distance','RightKneeArcCurvePointParentCon.RightHipArcPointW0',f=1)
    pm.connectAttr('RightLegArcDisMulti.output','RightKneeArcCurvePointParentCon.RightKneeArcPointW1',f=1)
    pm.connectAttr('RightLegUpArcDis.distance','RightKneeArcCurvePointParentCon.RightAnkleArcPointW2',f=1)
    #
    pm.createNode('plusMinusAverage',n="RightLegArcUpMinus")
    pm.setAttr('RightLegArcUpMinus.operation',2)
    pm.connectAttr('RightKneeArcCurvePoint.translate','RightLegArcUpMinus.input3D[0]',f=1)
    pm.connectAttr('RightHipArcPoint.translate','RightLegArcUpMinus.input3D[1]',f=1)
    #
    pm.createNode('plusMinusAverage',n="RightLegArcMinus")
    pm.setAttr('RightLegArcMinus.operation',2)
    pm.connectAttr('RightAnkleArcPoint.translate','RightLegArcMinus.input3D[0]',f=1)
    pm.connectAttr('RightHipArcPoint.translate','RightLegArcMinus.input3D[1]',f=1)
    #
    pm.createNode('plusMinusAverage',n="RightLegArcDwMinus")
    pm.setAttr('RightLegArcDwMinus.operation',2)
    pm.connectAttr('RightAnkleArcPoint.translate','RightLegArcDwMinus.input3D[0]',f=1)
    pm.connectAttr('RightKneeArcCurvePoint.translate','RightLegArcDwMinus.input3D[1]',f=1)
    #
    pm.createNode('angleBetween',n="RightLegArcUpAngle")
    pm.connectAttr('RightLegArcUpMinus.output3D','RightLegArcUpAngle.vector1',f=1)
    pm.connectAttr('RightLegArcMinus.output3D','RightLegArcUpAngle.vector2',f=1)
    #
    pm.createNode('angleBetween',n="RightLegArcDwAngle")
    pm.connectAttr('RightLegArcDwMinus.output3D','RightLegArcDwAngle.vector1',f=1)
    pm.connectAttr('RightLegArcMinus.output3D','RightLegArcDwAngle.vector2',f=1)
    #
    pm.createNode('addDoubleLinear',n="RightLegArcAngleAdd")
    pm.connectAttr('RightLegArcUpAngle.angle','RightLegArcAngleAdd.input1',f=1)
    pm.connectAttr('RightLegArcDwAngle.angle','RightLegArcAngleAdd.input2',f=1)
    #
    pm.createNode('makeThreePointCircularArc',n="RightLegMakeCircularArc")
    pm.connectAttr('RightHipArcPoint.translate','RightLegMakeCircularArc.point1',f=1)
    pm.connectAttr('RightKneeArcCurvePoint.translate','RightLegMakeCircularArc.point2',f=1)
    pm.connectAttr('RightAnkleArcPoint.translate','RightLegMakeCircularArc.point3',f=1)
    pm.setAttr("RightLegMakeCircularArc.sections",10)
    #
    pm.createNode('setRange',n="RightLegArcSetRange")
    pm.connectAttr('RightLegMakeCircularArc.sections','RightLegArcSetRange.maxX',f=1)
    pm.connectAttr('RightLegArcAngleAdd.output','RightLegArcSetRange.oldMaxX',f=1)
    pm.connectAttr('RightLegArcDwAngle.angle','RightLegArcSetRange.valueX',f=1)
    #
    pm.createNode('detachCurve',n="RightLegArcDetachCurve")
    pm.connectAttr('RightLegMakeCircularArc.outputCurve','RightLegArcDetachCurve.inputCurve',f=1)
    pm.connectAttr('RightLegArcSetRange.outValueX','RightLegArcDetachCurve.parameter[0]',f=1)
    # 
    pm.createNode('rebuildCurve',n="RightLegUpRebuildCurve")
    pm.createNode('rebuildCurve',n="RightLegDwRebuildCurve")
    pm.createNode('rebuildCurve',n="RightLegUpArcRebuildCurve")
    pm.createNode('rebuildCurve',n="RightLegDwArcRebuildCurve")
    pm.setAttr("RightLegUpRebuildCurve.spans",2)
    pm.setAttr('RightLegUpRebuildCurve.endKnots',1)
    pm.setAttr('RightLegUpRebuildCurve.keepRange',0)
    pm.setAttr("RightLegUpRebuildCurve.keepTangents",0)
    pm.setAttr("RightLegDwRebuildCurve.spans",2)
    pm.setAttr('RightLegDwRebuildCurve.endKnots',1)
    pm.setAttr('RightLegDwRebuildCurve.keepRange',0)
    pm.setAttr("RightLegDwRebuildCurve.keepTangents",0)
    pm.setAttr("RightLegUpArcRebuildCurve.spans",2)
    pm.setAttr('RightLegUpArcRebuildCurve.endKnots',1)
    pm.setAttr('RightLegUpArcRebuildCurve.keepRange',0)
    pm.setAttr("RightLegUpArcRebuildCurve.keepTangents",0)
    pm.setAttr("RightLegDwArcRebuildCurve.spans",2)
    pm.setAttr('RightLegDwArcRebuildCurve.endKnots',1)
    pm.setAttr('RightLegDwArcRebuildCurve.keepRange',0)
    pm.setAttr("RightLegDwArcRebuildCurve.keepTangents",0)
    pm.connectAttr('RightLegUpArcCurveOrigShape.worldSpace[0]','RightLegUpRebuildCurve.inputCurve',f=1)
    pm.connectAttr('RightLegUpRebuildCurve.outputCurve','RightLegUpArcCurveShape.create',f=1)
    pm.connectAttr('RightLegDWArcCurveOrigShape.worldSpace[0]','RightLegDwRebuildCurve.inputCurve',f=1)
    pm.connectAttr('RightLegDwRebuildCurve.outputCurve','RightLegDwArcCurveShape.create',f=1)
    pm.connectAttr('RightLegArcDetachCurve.outputCurve[0]','RightLegUpArcRebuildCurve.inputCurve',f=1)
    pm.connectAttr('RightLegArcDetachCurve.outputCurve[1]','RightLegDwArcRebuildCurve.inputCurve',f=1)
    pm.connectAttr('RightLegUpArcRebuildCurve.outputCurve','RightLegUpArcDetachCurveShape.create',f=1)
    pm.connectAttr('RightLegDwArcRebuildCurve.outputCurve','RightLegDwArcDetachCurveShape.create',f=1)
    pm.duplicate('RightLegUpArcCurve',rr=1,n="RightLegUpArcChkCurve")
    pm.duplicate('RightLegDwArcCurve',rr=1,n="RightLegDwArcChkCurve")
    #arcCurve blendShape
    pm.blendShape('RightLegUpArcDetachCurve','RightLegUpArcCurve',n="RightLegUpArcBD")
    pm.rename("tweak1","RightLegUpArcBDTweak")
    pm.blendShape('RightLegDwArcDetachCurve','RightLegDwArcCurve',n="RightLegDwArcBD")
    pm.rename("tweak1","RightLegDwArcBDTweak")
    pm.setAttr("RightLegIKFKCtrl.Arc",10)
    pm.setAttr("RightLegUpArcBD.RightLegUpArcDetachCurve",1)
    pm.setAttr("RightLegDwArcBD.RightLegDwArcDetachCurve",1)
    pm.setDrivenKeyframe('RightLegUpArcBD.RightLegUpArcDetachCurve',currentDriver='RightLegIKFKCtrl.Arc')
    pm.setDrivenKeyframe('RightLegDwArcBD.RightLegDwArcDetachCurve',currentDriver='RightLegIKFKCtrl.Arc')
    pm.setAttr("RightLegIKFKCtrl.Arc",0)
    pm.setAttr("RightLegUpArcBD.RightLegUpArcDetachCurve",0)
    pm.setAttr("RightLegDwArcBD.RightLegDwArcDetachCurve",0)
    pm.setDrivenKeyframe('RightLegUpArcBD.RightLegUpArcDetachCurve',currentDriver='RightLegIKFKCtrl.Arc')
    pm.setDrivenKeyframe('RightLegDwArcBD.RightLegDwArcDetachCurve',currentDriver='RightLegIKFKCtrl.Arc')
    #ik set
    pm.ikHandle(ccv=False,ee="RightLegUpArcRig5Jnt",roc=False,curve="RightLegUpArcCurve",sol='ikSplineSolver',sj="RightLegUpArcRig1Jnt",ns=2)
    pm.rename("ikHandle1","RightLegUpArcIKHandle")
    pm.rename("effector1","RightLegUpArcEffector")
    pm.ikHandle(ccv=False,ee="RightLegDwArcRig5Jnt",roc=False,curve="RightLegDwArcCurve",sol='ikSplineSolver',sj="RightLegDwArcRig1Jnt",ns=2)
    pm.rename("ikHandle1","RightLegDwArcIKHandle")
    pm.rename("effector1","RightLegDwArcEffector")
    pm.parent('RightLegDwArcCurve',w=1)
    pm.setAttr("RightLegUpArcIKHandle.rootOnCurve",1)
    pm.setAttr("RightLegUpArcIKHandle.dTwistControlEnable",1)
    pm.setAttr('RightLegUpArcIKHandle.dWorldUpType',4)
    pm.connectAttr('RightHipTwistFix.worldMatrix[0]','RightLegUpArcIKHandle.dWorldUpMatrix',f=1)
    pm.connectAttr('RightKneeTwistFix.worldMatrix[0]','RightLegUpArcIKHandle.dWorldUpMatrixEnd',f=1)
    pm.setAttr("RightLegDwArcIKHandle.rootOnCurve",1)
    pm.setAttr("RightLegDwArcIKHandle.dTwistControlEnable",1)
    pm.setAttr('RightLegDwArcIKHandle.dWorldUpType',4)
    pm.connectAttr('RightKneeTwistFix.worldMatrix[0]','RightLegDwArcIKHandle.dWorldUpMatrix',f=1)
    pm.connectAttr('RightAnkleTwistFix.worldMatrix[0]','RightLegDwArcIKHandle.dWorldUpMatrixEnd',f=1)
    #///////////////////////////////////////////////////////////////
    #
    #///////////////////////////////////////////////////////////////
    pm.createNode('pointOnCurveInfo',n="RightLegUpArcChkCurvePoint1")
    pm.createNode('pointOnCurveInfo',n="RightLegUpArcChkCurvePoint2")
    pm.createNode('pointOnCurveInfo',n="RightLegUpArcChkCurvePoint3")
    pm.createNode('pointOnCurveInfo',n="RightLegUpArcChkCurvePoint4")
    pm.createNode('pointOnCurveInfo',n="RightLegUpArcChkCurvePoint5")
    pm.createNode('pointOnCurveInfo',n="RightLegDwArcChkCurvePoint1")
    pm.createNode('pointOnCurveInfo',n="RightLegDwArcChkCurvePoint2")
    pm.createNode('pointOnCurveInfo',n="RightLegDwArcChkCurvePoint3")
    pm.createNode('pointOnCurveInfo',n="RightLegDwArcChkCurvePoint4")
    pm.createNode('pointOnCurveInfo',n="RightLegDwArcChkCurvePoint5")
    pm.connectAttr('RightLegUpArcChkCurveShape.worldSpace[0]','RightLegUpArcChkCurvePoint1.inputCurve',f=1)
    pm.connectAttr('RightLegUpArcChkCurveShape.worldSpace[0]','RightLegUpArcChkCurvePoint2.inputCurve',f=1)
    pm.connectAttr('RightLegUpArcChkCurveShape.worldSpace[0]','RightLegUpArcChkCurvePoint3.inputCurve',f=1)
    pm.connectAttr('RightLegUpArcChkCurveShape.worldSpace[0]','RightLegUpArcChkCurvePoint4.inputCurve',f=1)
    pm.connectAttr('RightLegUpArcChkCurveShape.worldSpace[0]','RightLegUpArcChkCurvePoint5.inputCurve',f=1)
    pm.setAttr("RightLegUpArcChkCurvePoint1.parameter",0)
    pm.setAttr("RightLegUpArcChkCurvePoint2.parameter",0.25)
    pm.setAttr("RightLegUpArcChkCurvePoint3.parameter",0.5)
    pm.setAttr("RightLegUpArcChkCurvePoint4.parameter",0.75)
    pm.setAttr("RightLegUpArcChkCurvePoint5.parameter",1)
    pm.connectAttr('RightLegDwArcChkCurveShape.worldSpace[0]','RightLegDwArcChkCurvePoint1.inputCurve',f=1)
    pm.connectAttr('RightLegDwArcChkCurveShape.worldSpace[0]','RightLegDwArcChkCurvePoint2.inputCurve',f=1)
    pm.connectAttr('RightLegDwArcChkCurveShape.worldSpace[0]','RightLegDwArcChkCurvePoint3.inputCurve',f=1)
    pm.connectAttr('RightLegDwArcChkCurveShape.worldSpace[0]','RightLegDwArcChkCurvePoint4.inputCurve',f=1)
    pm.connectAttr('RightLegDwArcChkCurveShape.worldSpace[0]','RightLegDwArcChkCurvePoint5.inputCurve',f=1)
    pm.setAttr("RightLegDwArcChkCurvePoint1.parameter",0)
    pm.setAttr("RightLegDwArcChkCurvePoint2.parameter",0.25)
    pm.setAttr("RightLegDwArcChkCurvePoint3.parameter",0.5)
    pm.setAttr("RightLegDwArcChkCurvePoint4.parameter",0.75)
    pm.setAttr("RightLegDwArcChkCurvePoint5.parameter",1)
    pm.createNode('distanceBetween',n="RightLegUpArcChkCurveDis1")
    pm.createNode('distanceBetween',n="RightLegUpArcChkCurveDis2")
    pm.createNode('distanceBetween',n="RightLegUpArcChkCurveDis3")
    pm.createNode('distanceBetween',n="RightLegUpArcChkCurveDis4")
    pm.createNode('distanceBetween',n="RightLegDwArcChkCurveDis1")
    pm.createNode('distanceBetween',n="RightLegDwArcChkCurveDis2")
    pm.createNode('distanceBetween',n="RightLegDwArcChkCurveDis3")
    pm.createNode('distanceBetween',n="RightLegDwArcChkCurveDis4")
    pm.connectAttr('RightLegUpArcChkCurvePoint1.position','RightLegUpArcChkCurveDis1.point1',f=1)
    pm.connectAttr('RightLegUpArcChkCurvePoint2.position','RightLegUpArcChkCurveDis1.point2',f=1)
    pm.connectAttr('RightLegUpArcChkCurvePoint2.position','RightLegUpArcChkCurveDis2.point1',f=1)
    pm.connectAttr('RightLegUpArcChkCurvePoint3.position','RightLegUpArcChkCurveDis2.point2',f=1)
    pm.connectAttr('RightLegUpArcChkCurvePoint3.position','RightLegUpArcChkCurveDis3.point1',f=1)
    pm.connectAttr('RightLegUpArcChkCurvePoint4.position','RightLegUpArcChkCurveDis3.point2',f=1)
    pm.connectAttr('RightLegUpArcChkCurvePoint4.position','RightLegUpArcChkCurveDis4.point1',f=1)
    pm.connectAttr('RightLegUpArcChkCurvePoint5.position','RightLegUpArcChkCurveDis4.point2',f=1)
    pm.connectAttr('RightLegDwArcChkCurvePoint1.position','RightLegDwArcChkCurveDis1.point1',f=1)
    pm.connectAttr('RightLegDwArcChkCurvePoint2.position','RightLegDwArcChkCurveDis1.point2',f=1)
    pm.connectAttr('RightLegDwArcChkCurvePoint2.position','RightLegDwArcChkCurveDis2.point1',f=1)
    pm.connectAttr('RightLegDwArcChkCurvePoint3.position','RightLegDwArcChkCurveDis2.point2',f=1)
    pm.connectAttr('RightLegDwArcChkCurvePoint3.position','RightLegDwArcChkCurveDis3.point1',f=1)
    pm.connectAttr('RightLegDwArcChkCurvePoint4.position','RightLegDwArcChkCurveDis3.point2',f=1)
    pm.connectAttr('RightLegDwArcChkCurvePoint4.position','RightLegDwArcChkCurveDis4.point1',f=1)
    pm.connectAttr('RightLegDwArcChkCurvePoint5.position','RightLegDwArcChkCurveDis4.point2',f=1)
    pm.createNode('plusMinusAverage',n="RightLegUpArcChkDisPlus")
    pm.createNode('plusMinusAverage',n="RightLegDwArcChkDisPlus")
    pm.connectAttr('RightLegUpArcChkCurveDis1.distance','RightLegUpArcChkDisPlus.input1D[0]',f=1)
    pm.connectAttr('RightLegUpArcChkCurveDis2.distance','RightLegUpArcChkDisPlus.input1D[1]',f=1)
    pm.connectAttr('RightLegUpArcChkCurveDis3.distance','RightLegUpArcChkDisPlus.input1D[2]',f=1)
    pm.connectAttr('RightLegUpArcChkCurveDis4.distance','RightLegUpArcChkDisPlus.input1D[3]',f=1)
    pm.connectAttr('RightLegDwArcChkCurveDis1.distance','RightLegDwArcChkDisPlus.input1D[0]',f=1)
    pm.connectAttr('RightLegDwArcChkCurveDis2.distance','RightLegDwArcChkDisPlus.input1D[1]',f=1)
    pm.connectAttr('RightLegDwArcChkCurveDis3.distance','RightLegDwArcChkDisPlus.input1D[2]',f=1)
    pm.connectAttr('RightLegDwArcChkCurveDis4.distance','RightLegDwArcChkDisPlus.input1D[3]',f=1)
    #////////////////////////////////////////////////////////////////
    # 
    #////////////////////////////////////////////////////////////////
    pm.createNode('pointOnCurveInfo',n="RightLegUpArcCurvePoint1")
    pm.createNode('pointOnCurveInfo',n="RightLegUpArcCurvePoint2")
    pm.createNode('pointOnCurveInfo',n="RightLegUpArcCurvePoint3")
    pm.createNode('pointOnCurveInfo',n="RightLegUpArcCurvePoint4")
    pm.createNode('pointOnCurveInfo',n="RightLegUpArcCurvePoint5")
    pm.createNode('pointOnCurveInfo',n="RightLegDwArcCurvePoint1")
    pm.createNode('pointOnCurveInfo',n="RightLegDwArcCurvePoint2")
    pm.createNode('pointOnCurveInfo',n="RightLegDwArcCurvePoint3")
    pm.createNode('pointOnCurveInfo',n="RightLegDwArcCurvePoint4")
    pm.createNode('pointOnCurveInfo',n="RightLegDwArcCurvePoint5")
    pm.setAttr("RightLegUpArcCurvePoint1.parameter",0)
    pm.setAttr("RightLegUpArcCurvePoint2.parameter",0.25)
    pm.setAttr("RightLegUpArcCurvePoint3.parameter",0.5)
    pm.setAttr("RightLegUpArcCurvePoint4.parameter",0.75)
    pm.setAttr("RightLegUpArcCurvePoint5.parameter",1)
    pm.setAttr("RightLegDwArcCurvePoint1.parameter",0)
    pm.setAttr("RightLegDwArcCurvePoint2.parameter",0.25)
    pm.setAttr("RightLegDwArcCurvePoint3.parameter",0.5)
    pm.setAttr("RightLegDwArcCurvePoint4.parameter",0.75)
    pm.setAttr("RightLegDwArcCurvePoint5.parameter",1)
    pm.connectAttr('RightLegUpArcCurveShape.worldSpace[0]','RightLegUpArcCurvePoint1.inputCurve',f=1)
    pm.connectAttr('RightLegUpArcCurveShape.worldSpace[0]','RightLegUpArcCurvePoint2.inputCurve',f=1)
    pm.connectAttr('RightLegUpArcCurveShape.worldSpace[0]','RightLegUpArcCurvePoint3.inputCurve',f=1)
    pm.connectAttr('RightLegUpArcCurveShape.worldSpace[0]','RightLegUpArcCurvePoint4.inputCurve',f=1)
    pm.connectAttr('RightLegUpArcCurveShape.worldSpace[0]','RightLegUpArcCurvePoint5.inputCurve',f=1)
    pm.connectAttr('RightLegDwArcCurveShape.worldSpace[0]','RightLegDwArcCurvePoint1.inputCurve',f=1)
    pm.connectAttr('RightLegDwArcCurveShape.worldSpace[0]','RightLegDwArcCurvePoint2.inputCurve',f=1)
    pm.connectAttr('RightLegDwArcCurveShape.worldSpace[0]','RightLegDwArcCurvePoint3.inputCurve',f=1)
    pm.connectAttr('RightLegDwArcCurveShape.worldSpace[0]','RightLegDwArcCurvePoint4.inputCurve',f=1)
    pm.connectAttr('RightLegDwArcCurveShape.worldSpace[0]','RightLegDwArcCurvePoint5.inputCurve',f=1)
    pm.createNode('distanceBetween',n="RightLegDwArcCurveDis1")
    pm.createNode('distanceBetween',n="RightLegDwArcCurveDis2")
    pm.createNode('distanceBetween',n="RightLegDwArcCurveDis3")
    pm.createNode('distanceBetween',n="RightLegDwArcCurveDis4")
    pm.createNode('distanceBetween',n="RightLegUpArcCurveDis1")
    pm.createNode('distanceBetween',n="RightLegUpArcCurveDis2")
    pm.createNode('distanceBetween',n="RightLegUpArcCurveDis3")
    pm.createNode('distanceBetween',n="RightLegUpArcCurveDis4")
    pm.connectAttr('RightLegUpArcCurvePoint1.position','RightLegUpArcCurveDis1.point1',f=1)
    pm.connectAttr('RightLegUpArcCurvePoint2.position','RightLegUpArcCurveDis1.point2',f=1)
    pm.connectAttr('RightLegUpArcCurvePoint2.position','RightLegUpArcCurveDis2.point1',f=1)
    pm.connectAttr('RightLegUpArcCurvePoint3.position','RightLegUpArcCurveDis2.point2',f=1)
    pm.connectAttr('RightLegUpArcCurvePoint3.position','RightLegUpArcCurveDis3.point1',f=1)
    pm.connectAttr('RightLegUpArcCurvePoint4.position','RightLegUpArcCurveDis3.point2',f=1)
    pm.connectAttr('RightLegUpArcCurvePoint4.position','RightLegUpArcCurveDis4.point1',f=1)
    pm.connectAttr('RightLegUpArcCurvePoint5.position','RightLegUpArcCurveDis4.point2',f=1)
    pm.connectAttr('RightLegDwArcCurvePoint1.position','RightLegDwArcCurveDis1.point1',f=1)
    pm.connectAttr('RightLegDwArcCurvePoint2.position','RightLegDwArcCurveDis1.point2',f=1)
    pm.connectAttr('RightLegDwArcCurvePoint2.position','RightLegDwArcCurveDis2.point1',f=1)
    pm.connectAttr('RightLegDwArcCurvePoint3.position','RightLegDwArcCurveDis2.point2',f=1)
    pm.connectAttr('RightLegDwArcCurvePoint3.position','RightLegDwArcCurveDis3.point1',f=1)
    pm.connectAttr('RightLegDwArcCurvePoint4.position','RightLegDwArcCurveDis3.point2',f=1)
    pm.connectAttr('RightLegDwArcCurvePoint4.position','RightLegDwArcCurveDis4.point1',f=1)
    pm.connectAttr('RightLegDwArcCurvePoint5.position','RightLegDwArcCurveDis4.point2',f=1)
    pm.createNode('plusMinusAverage',n="RightLegUpArcDisPlus")
    pm.createNode('plusMinusAverage',n="RightLegDwArcDisPlus")
    pm.connectAttr('RightLegUpArcCurveDis1.distance','RightLegUpArcDisPlus.input1D[0]',f=1)
    pm.connectAttr('RightLegUpArcCurveDis2.distance','RightLegUpArcDisPlus.input1D[1]',f=1)
    pm.connectAttr('RightLegUpArcCurveDis3.distance','RightLegUpArcDisPlus.input1D[2]',f=1)
    pm.connectAttr('RightLegUpArcCurveDis4.distance','RightLegUpArcDisPlus.input1D[3]',f=1)
    pm.connectAttr('RightLegDwArcCurveDis1.distance','RightLegDwArcDisPlus.input1D[0]',f=1)
    pm.connectAttr('RightLegDwArcCurveDis2.distance','RightLegDwArcDisPlus.input1D[1]',f=1)
    pm.connectAttr('RightLegDwArcCurveDis3.distance','RightLegDwArcDisPlus.input1D[2]',f=1)
    pm.connectAttr('RightLegDwArcCurveDis4.distance','RightLegDwArcDisPlus.input1D[3]',f=1)
    #////////////////////////////////////////////////////////////////////////////
    #
    #////////////////////////////////////////////////////////////////////////////
    pm.createNode('multiplyDivide',n="RightLegUpArcDisDivide")
    pm.createNode('multiplyDivide',n="RightLegDwArcDisDivide")
    pm.setAttr('RightLegUpArcDisDivide.operation',2)
    pm.setAttr('RightLegDwArcDisDivide.operation',2)
    pm.connectAttr('RightLegUpArcDisPlus.output1D','RightLegUpArcDisDivide.input1X',f=1)
    pm.connectAttr('RightLegUpArcChkDisPlus.output1D','RightLegUpArcDisDivide.input2X',f=1)
    pm.connectAttr('RightLegDwArcDisPlus.output1D','RightLegDwArcDisDivide.input1X',f=1)
    pm.connectAttr('RightLegDwArcChkDisPlus.output1D','RightLegDwArcDisDivide.input2X',f=1)
    #setAttr "RightKneeArcPointParentCon.target[0].targetOffsetTranslateZ" 0.001;
    #////////////////////////////////////////////////////////////////////////
    # 
    #////////////////////////////////////////////////////////////////////////
    pm.createNode('multDoubleLinear',n="RightLegUpArcTXMulti1")
    pm.setAttr("RightLegUpArcTXMulti1.input2",
        pm.getAttr('RightLegUpArcRig2Jnt.translateX'))
    pm.createNode('multDoubleLinear',n="RightLegUpArcTXMulti2")
    pm.setAttr("RightLegUpArcTXMulti2.input2",
        pm.getAttr('RightLegUpArcRig3Jnt.translateX'))
    pm.createNode('multDoubleLinear',n="RightLegUpArcTXMulti3")
    pm.setAttr("RightLegUpArcTXMulti3.input2",
        pm.getAttr('RightLegUpArcRig4Jnt.translateX'))
    pm.createNode('multDoubleLinear',n="RightLegUpArcTXMulti4")
    pm.setAttr("RightLegUpArcTXMulti4.input2",
        pm.getAttr('RightLegUpArcRig5Jnt.translateX'))
    pm.connectAttr('RightLegUpArcDisDivide.outputX','RightLegUpArcTXMulti1.input1',f=1)
    pm.connectAttr('RightLegUpArcDisDivide.outputX','RightLegUpArcTXMulti2.input1',f=1)
    pm.connectAttr('RightLegUpArcDisDivide.outputX','RightLegUpArcTXMulti3.input1',f=1)
    pm.connectAttr('RightLegUpArcDisDivide.outputX','RightLegUpArcTXMulti4.input1',f=1)
    pm.connectAttr('RightLegUpArcTXMulti1.output','RightLegUpArcRig2Jnt.translateX',f=1)
    pm.connectAttr('RightLegUpArcTXMulti2.output','RightLegUpArcRig3Jnt.translateX',f=1)
    pm.connectAttr('RightLegUpArcTXMulti3.output','RightLegUpArcRig4Jnt.translateX',f=1)
    pm.connectAttr('RightLegUpArcTXMulti4.output','RightLegUpArcRig5Jnt.translateX',f=1)
    pm.createNode('multDoubleLinear',n="RightLegDwArcTXMulti1")
    pm.setAttr("RightLegDwArcTXMulti1.input2",
        pm.getAttr('RightLegDwArcRig2Jnt.translateX'))
    pm.createNode('multDoubleLinear',n="RightLegDwArcTXMulti2")
    pm.setAttr("RightLegDwArcTXMulti2.input2",
        pm.getAttr('RightLegDwArcRig3Jnt.translateX'))
    pm.createNode('multDoubleLinear',n="RightLegDwArcTXMulti3")
    pm.setAttr("RightLegDwArcTXMulti3.input2",
        pm.getAttr('RightLegDwArcRig4Jnt.translateX'))
    pm.createNode('multDoubleLinear',n="RightLegDwArcTXMulti4")
    pm.setAttr("RightLegDwArcTXMulti4.input2",
        pm.getAttr('RightLegDwArcRig5Jnt.translateX'))
    pm.connectAttr('RightLegDwArcDisDivide.outputX','RightLegDwArcTXMulti1.input1',f=1)
    pm.connectAttr('RightLegDwArcDisDivide.outputX','RightLegDwArcTXMulti2.input1',f=1)
    pm.connectAttr('RightLegDwArcDisDivide.outputX','RightLegDwArcTXMulti3.input1',f=1)
    pm.connectAttr('RightLegDwArcDisDivide.outputX','RightLegDwArcTXMulti4.input1',f=1)
    pm.connectAttr('RightLegDwArcTXMulti1.output','RightLegDwArcRig2Jnt.translateX',f=1)
    pm.connectAttr('RightLegDwArcTXMulti2.output','RightLegDwArcRig3Jnt.translateX',f=1)
    pm.connectAttr('RightLegDwArcTXMulti3.output','RightLegDwArcRig4Jnt.translateX',f=1)
    pm.connectAttr('RightLegDwArcTXMulti4.output','RightLegDwArcRig5Jnt.translateX',f=1)
    #///////////////////////////
    #
    #///////////////////////////
    pm.group(em=1,n="RightLegArcRigGrp")
    Utils.KGM_Aline("RightLegRig1Jnt", "RightLegArcRigGrp", "p")
    pm.parent('RightLegUpArcIKHandle','RightLegArcRigGrp')
    pm.parent('RightLegDwArcIKHandle','RightLegArcRigGrp')
    pm.parent('RightLegUpArcChkCurve','RightLegArcRigGrp')
    pm.parent('RightLegDwArcChkCurve','RightLegArcRigGrp')
    pm.parent('RightLegHipLockGrp','RightLegArcRigGrp')
    pm.parent('RightLegUpArcRig1Jnt','RightLegRigJntGrp')
    pm.group(em=1,n="RightLegRigCtrlGrp")
    Utils.KGM_Aline("RightLegRig1Jnt", "RightLegRigCtrlGrp", "p")
    pm.parent('RightLegIKGrp','RightLegRigCtrlGrp')
    pm.parent('RightLegFKGrp','RightLegRigCtrlGrp')
    pm.parent('RightLegIKFKCtrlGrp','RightLegRigCtrlGrp')
    pm.parent('RightLegArcRigGrp','RightLegRigCtrlGrp')
    pm.parent('RightLegRigJntGrp','RightLegRigCtrlGrp')
    pm.parent('RightLegRigGrp','RigCtrlGrp')
    pm.parent('RightLegRigCtrlGrp','RightLegRigGrp')
    pm.group(em=1,n="RightLegArcGrp")
    pm.parent('RightHipArcPoint','RightLegArcGrp')
    pm.parent('RightKneeArcPoint','RightLegArcGrp')
    pm.parent('RightAnkleArcPoint','RightLegArcGrp')
    pm.parent('RightKneeArcCurvePoint','RightLegArcGrp')
    pm.parent('RightLegUpArcCurveOrig','RightLegArcGrp')
    pm.parent('RightLegDWArcCurveOrig','RightLegArcGrp')
    pm.parent('RightLegUpArcDetachCurve','RightLegArcGrp')
    pm.parent('RightLegDwArcDetachCurve','RightLegArcGrp')
    pm.parent('RightLegUpArcCurve','RightLegArcGrp')
    pm.parent('RightLegDwArcCurve','RightLegArcGrp')
    pm.parent('RightLegArcGrp','RightLegRigSysGrp')
    pm.reorder('RightLegRig1Jnt',relative=-2)
    pm.reorder('RightLegIK1Jnt',relative=-1)
    pm.reorder('RightLegUpArcRig1Jnt',relative=-1)
    


